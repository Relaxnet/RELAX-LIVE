<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head><meta name="theme-color" content="#4e008b" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>âš½Ø§Ù„Ø¨Ø« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±âš½</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        .modal {
            display: none; /* Ù…Ø®ÙÙŠ Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§ */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content2 {
            background: white;
            padding: 20px;
            margin: 20% auto;
            width: 350px;
            border-radius: 10px;
            text-align: center;
        }

        .modal-content2 input,
        .modal-content2 select,
        .modal-content2 button {
            display: block;
            width: 100%;
            margin: 10px 0;
            padding: 10px;
            font-size: 16px;
        }

        .modal-content2 button {
            background:  radial-gradient(circle, #8a2be2 0%, #2c003e 100%);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .modal-content2 button:hover {
            background:  radial-gradient(circle, #8a2be2 0%, #2c003e 0%);
        }

        #loading {
            display: none;
            background: url('../bg1.jpg'), radial-gradient(circle, rgba(138, 43, 226, 0.8) 0%, rgba(44, 0, 62, 0.8) 100%);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .loading-content {
            text-align: center;
            color: white;
        }

        .loading-logo {
            font-size: 24px;
            margin-bottom: 10px;
        }

        .loading-logo .zero {
            color: #8a2be2;
        }

        .loading-logo .lag {
            color: #2c003e;
        }

        .progress-bar {
            width: 80%;
            height: 20px;
            background-color: #ddd;
            border-radius: 10px;
            margin: 10px auto;
            overflow: hidden;
        }

        .progress-fill {
            width: 0;
            height: 100%;
            background-color: #4CAF50;
            transition: width 0.3s ease;
        }

        .progress-text {
            font-size: 14px;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <header class="header">
            <div class="header-left">
                <h1 class="logo">
                    <img src="img/logo2.png" alt="RelaxLive">
                </h1>
                <button class="settings-btn" onclick="toggleSettings()">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
            <div class="ticker-wrapper">
                <div class="ticker" >ğŸ†ğŸ† ØªØ±Ø­Ø¨ Ø¨ÙƒÙ… Ø´Ø¨ÙƒØ© Ø±ÙŠÙ„Ø§ÙƒØ³ ÙˆØªØªÙ…Ù†Ù‰ Ù„ÙƒÙ… Ù‚Ø¶Ø§Ø¡ Ø£Ø¬Ù…Ù„ Ø§Ù„Ø£ÙˆÙ‚Ø§Øª ğŸ†ğŸ†
                    <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªÙŠÙƒØ± Ù‡Ù†Ø§ -->
                </div>
            </div>
        </header>

        <div class="matches-button-container">
            <button class="matches-button" onclick="toggleMatchesModal()">
                <i class="fas fa-futbol"></i>
                Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª
            </button>
            <div class="matches-slider">
                <div class="matches-slider-content" id="matches-slider">
                    <!-- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ù‡Ù†Ø§ -->
                </div>
            </div>
        </div>

        <main class="main-content">
            <div class="player-wrapper">
                <video id="video-player" poster="img/logo2.png" preload="auto" style="width: 100%; height: 100%;">
                    <p>Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø¹Ù†ØµØ± Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø£Ùˆ Ø£Ù† JavaScript ØºÙŠØ± Ù…ÙØ¹Ù„.</p>
                </video>
                <div class="player-loading-spinner" style="display: none;"></div>
                <div class="custom-controls-container">
                    <div class="controls-left">
                        <button class="control-button play-pause-button" title="ØªØ´ØºÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù">
                            <i class="fas fa-play"></i>
                        </button>
                        <div class="volume-controls">
                            <button class="control-button volume-button" title="ÙƒØªÙ…/Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ÙƒØªÙ…">
                                <i class="fas fa-volume-up"></i>
                            </button>
                            <input type="range" class="volume-slider" min="0" max="1" step="0.01" value="1">
                        </div>
                    </div>
                    <div class="controls-center">
                        <span class="time-display current-time">0:00</span>
                        <div class="progress-bar-container">
                            <div class="buffer-bar"></div>
                            <input type="range" class="progress-bar" min="0" value="0" step="0.1">
                        </div>
                        <span class="time-display total-time">0:00</span>
                    </div>
                    <div class="controls-right">
                        <div class="quality-control-wrapper" style="position: relative;">
                            <button id="quality-button" class="control-button">Ø§Ù„Ø¬ÙˆØ¯Ø©</button>
                            <ul id="quality-menu" class="quality-menu-list"></ul>
                        </div>
                        <button class="control-button pip-button" title="ØµÙˆØ±Ø© Ø¯Ø§Ø®Ù„ ØµÙˆØ±Ø©">
                            <i class="fas fa-window-restore"></i>
                        </button>
                        <button class="control-button fullscreen-button" title="Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©/Ø¥Ù†Ù‡Ø§Ø¡">
                            <i class="fas fa-expand"></i>
                        </button>
                    </div>
                </div>
            </div>
            <aside class="sidebar" id="channels-list">
                <!-- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ù†ÙˆØ§Øª Ù‡Ù†Ø§ -->
            </aside>
        </main>

        <footer class="footer">
            <div class="developer">
                <span>Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³/Ù…Ø­Ù…Ø¯ Ø±Ø§Ø¬Ø­</span>
                <a href="https://wa.me/967773035071" target="_blank" class="social-link">
                    <i class="fas fa-globe"></i>
                </a>
                <a href="https://www.facebook.com/profile.php?id=61559554002591" target="_blank" class="social-link">
                    <i class="fab fa-facebook"></i>
                </a>
            </div>
            <div class="social-links">
                <a href="tel:773035071" style="color:white;text-decoration:none;">
                    <h5>Ù„Ù„Ø¥Ø³ØªÙØ³Ø§Ø±: 773035071</h5>
                </a>
            </div>
        </footer>
    </div>

    <div class="matches-modal" id="matches-modal">
        <div class="modal-content"style="overflow-y: auto;max-height: 90vh;">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fas fa-futbol"></i>
                    Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª
                </div>
                <button class="close-modal" onclick="toggleMatchesModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="matches-grid" id="matches-container">
                <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ù‡Ù†Ø§ -->
            </div>
        </div>
    </div>

    <!-- Ù†Ù…ÙˆØ°Ø¬ Ø§Ø´ØªØ±Ø§Ùƒ Ù„Ù„Ù…Ø§Ù„Ùƒ -->
    <div id="subscription-modal" class="modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 2000;">
        <div class="modal-content2" style="background: white; padding: 20px; margin: 20% auto; width: 300px; border-radius: 10px; text-align: center;">
            <h2>Ø§Ø´ØªØ±Ø§Ùƒ ØµØ§Ø­Ø¨ Ø§Ù„Ø´Ø¨ÙƒØ©</h2>
            <p>Ø§Ø®ØªØ± Ø®Ø·Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©</p>
            <input type="text" id="serial-number" placeholder="Serial Number (Ù…Ø«Ù„: ABC12345/678)" required>
            <input type="tel" id="phone-number" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (Ù…Ø«Ù„: +967773035071)" required>
            <select id="subscription-plan" required>
                <option value="" disabled selected>Ø§Ø®ØªØ± Ø®Ø·Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ</option>
                <option value="7days">7 Ø£ÙŠØ§Ù… - $5</option>
                <option value="30days">30 ÙŠÙˆÙ…Ù‹Ø§ - $15</option>
                <option value="90days">90 ÙŠÙˆÙ…Ù‹Ø§ - $40</option>
                <option value="180days">180 ÙŠÙˆÙ…Ù‹Ø§ - $70</option>
            </select>
            <input type="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù„Ù„Ø£Ù…Ø§Ù†" required>
            <button id="subscribe-btn" class="btns btns2">Ø·Ù„Ø¨ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ</button>
            <button id="renew-btn">ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ</button>
            <button onclick="document.getElementById('subscription-modal').style.display = 'none';">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
    </div>

    <div id="loading" class="loading-overlay" style="display: none; background: radial-gradient(circle, #8a2be2 0%, #2c003e 100%);">
        <div class="loading-content">
            <div class="loading-logo">
                <span class="zero">Relax</span><span class="lag">Live</span>
            </div>
            <img src="./img/logo2.png" width="30%" alt="relax">
            <div class="developer-credit" style="text-decoration: none; color: white; padding: 5px; font-size:12px;">
                <div class="progress-message">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 0%"></div>
                </div>
                <div class="progress-text">0%</div>
            </div>
            <a href="tel:773035071" style="text-decoration: none; color: white; padding: 5px; border: 1px solid; border-radius: 10px; font-size:12px; background: radial-gradient(circle, #8a2be2 0%, #2c003e 100%);">
                <span>ØªØ·ÙˆÙŠØ± ÙˆØ¨Ø±Ù…Ø¬Ø© Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³/ Ù…Ø­Ù…Ø¯ Ø±Ø§Ø¬Ø­ 773035071</span>
            </a>
        </div>
    </div>

    <!-- ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© -->
    <!-- ... (Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø¹Ù„ÙˆÙŠ Ù…Ù† index.html ÙŠØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡Ùˆ) ... -->

    <!-- ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© -->
    <script src="js/flv.min.js"></script>
    <script src="js/hls.min.js"></script>
    <script type="module">
        document.addEventListener('DOMContentLoaded', async () => {
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
            const isSubscribed = await checkSubscription();
            if (!isSubscribed) {
                document.getElementById('subscription-modal').style.display = 'block';
                document.getElementById('video-player').style.display = 'none';
            } else {
                // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ ØµØ§Ù„Ø­Ù‹Ø§ØŒ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                initApp();
            }
        });

        // Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ù…Ù† app.js
        import { checkSubscription, initApp, toggleSettings, toggleMatchesModal, playStream, cleanupPlayer, switchQuality, toggleChannel, playChannelByName, showNotes, getEstimatedConnectionSpeed } from './js/app.js';

        // ØªØ¹Ø±ÙŠÙ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø¹Ø§Ù…Ø©
        window.toggleSettings = toggleSettings;
        window.toggleMatchesModal = toggleMatchesModal;
        window.playStream = playStream;
        window.cleanupPlayer = cleanupPlayer;
        window.switchQuality = switchQuality;
        window.toggleChannel = toggleChannel;
        window.playChannelByName = playChannelByName;
        window.showNotes = showNotes;
        window.getEstimatedConnectionSpeed = getEstimatedConnectionSpeed;
    </script>
</body>
</html>
